<mvc:View xmlns:f="sap.f" controllerName="br.com.epiuse.felizometro.felizometroapp.controller.Main"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m" xmlns:card="sap.f.cards" xmlns:form="sap.ui.layout.form">
    <Page id="page" title="{i18n>title}" class="sapUiResponsiveContentPadding" showFooter="true">
        <content>
            <Panel headerText="Olá, {ViewModel>/usuario/firstName}" width="100%">
                <FlexBox direction="Row" alignItems="Center" justifyContent="Start" width="100%">
                    <Avatar src="{ViewModel>/usuario/foto}" customDisplaySize="130px" displaySize="Custom" class="sapUiSmallMarginEnd"/>
                    <Panel headerText="Seus dados básicos" width="100%">
                        <HBox justifyContent="SpaceBetween" alignItems="Start" width="100%">
                            <VBox width="50%">
                                <Label text="Nome completo:" />
                                <Label design="Bold" text="{ViewModel>/usuario/defaultFullName}" />
                                <Label text="Cargo:" />
                                <Label design="Bold" text="{ViewModel>/usuario/jobTitle}" />
                                <Label text="Departamento:" />
                                <Label design="Bold" text="{ViewModel>/usuario/department}" />
                                <Label text="Gestor:" />
                                <Label design="Bold" text="{ViewModel>/usuario/manager/defaultFullName}" />
                            </VBox>
                            <VBox width="50%"  visible="{= ${ViewModel>/ultimoMood} !== null}" justifyContent="Center">
                                <Label design="Bold" text="Aqui está sua última avaliação de felicidade:"/>
                                <Avatar src="assets/{ViewModel>/ultimoMood/icone}" showBorder="false" customDisplaySize="90px" displaySize="Custom"/>
                                <Text text="Avaliação enviada em {path: 'ViewModel>/ultimoMood/data', formatter: '.formatter.dateTimeToString'}"/>
                            </VBox>
                            <VBox width="50%"  visible="{= ${ViewModel>/ultimoMood} === null}" justifyContent="Center">
                                <Label design="Bold" text="Ops! Parece que você ainda não realizou nenhuma reflexão sobre como está se sentindo, aproveite e faça já!"/>
                            </VBox>
                        </HBox>
                        <layoutData>
                            <FlexItemData growFactor="1"/>
                        </layoutData>
                    </Panel>
                </FlexBox>
            </Panel>
            <Panel class="sapUiSmallMarginTop" width="100%">
                <Text text="Como você está se sentindo hoje?" class="text_pergunta_sentimento"/>
                <HBox items="{ViewModel>/sentimentos}" height="150px" width="100%" alignItems="Center" justifyContent="SpaceAround">
                    <Avatar src="assets/{ViewModel>icone}" showBorder="false" displaySize="{ViewModel>tamanho}" press="handleSelecionaSentimento"/>
                </HBox>
            </Panel>
        </content>
        <footer>
            <OverflowToolbar >
                <ToolbarSpacer/>
                <Button icon="sap-icon://paper-plane" text="Enviar" type="Emphasized" enabled="{= ${ViewModel>/felizometro} !== null}" press="handleAbreDialogoDeConfirmacao"/>
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>
